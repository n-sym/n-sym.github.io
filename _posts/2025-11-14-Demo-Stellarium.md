---
title: "Demo: Stellarium"
date: 2025-11-14
categories: 游戏设计
layout: post
---

> 存档

## 核心玩法规则

### 3C
#### 相机
视角为俯视视角第三人称，设置FOV为45降低一定透视感。
不可被玩家转动，与垂直方向的角度会根据主角竖直方向的速度改变。当主角在竖直方向上移动得较快，相机位置会接近主角的头顶，方便玩家定位落点。当竖直方向上移动得较慢，相机位置接近主角的身后，能看到更多前方的物品。

#### 角色
作为小行星的主角是一颗发光的圆球。

主角作为一颗小行星有这样的移动性能：
- 水平移动
- 跳跃
- 加速下坠，也许就认为它上面有改变重力的装置
- 冲刺，能快速加速，当然我们有超级加速的行星发动机，但发动机使用后要冷却
- 撞击，作为一颗运动着的小行星，动量大的时候会极具危险性

详细来说，主角具有非常强大的移动能力。它通过施加力来移动，并且根据所运动的方向和输入的方向点积（Dot Product）来补偿，减小惯性的影响。在玩家不输入而且接触地面时，会有额外的阻力帮助主角刹车。

主角具有一个高速阈值。达到该阈值后，移动会发出粒子特效，进入无敌时间（战斗组件不会受到伤害），能触发一些额外效果。

主角的冲刺能力叫做助推，它能且仅能按照使用时主角的速度方向来施加连续的一顿时间的较大的推力，帮助主角加速。通过这个能力能使得主角不依赖道具突破高速阈值。助推具有2s的CD，CD回复时会有粒子特效提醒。

主角具有生命值，但在目前的设计里，它不会死亡。生命值影响主角发光的程度。

#### 控制
角色控制包含键盘WSAD、T、鼠标左键和右键。键位简单，非常易于学习。

UI控制包含一个键位说明和回档界面。玩家可重复查看游戏的操作方式或将游戏进度重置到存档点。

### 世界物体
#### 颜色
所有物体会具有自己的颜色，直接表明其作用，颜色是单一职责。具体分为以下的颜色特性：
- 【金色】代表Stellarium，有些仅有主角。
- 【蓝色】代表可以被主角拾取操纵。
- 【紫色】代表物体可以给主角提供动量。
- 【红色】代表物体可以被Stellarium破坏。
- 【绿色】代表提示。
- 【橙色】代表物体可被转变。
- 【灰色】代表Stellarium通常无法与它用物理之外的方式直接交互。深灰色物体不具有RigidBody组件，而浅灰色具有。

#### 转变
橙色物体可在橙、绿、蓝、红、紫之间进行转变。橙色物体被转变后，仍然可以继续直接被当作橙色物体转变（为了简化转变的操作）。也就是说，橙色物体要么只展现出橙色的特性，要么在转变颜色后同时呈现转变后颜色的特性和橙色固有的特性。

相应的，一个橙色物体将具有一个可转变颜色的列表`List<Color>`，假如橙色物体被施加了列表中不存在的颜色，它将会恢复橙色。
#### 拾取
蓝色物体可以被具有拾取者组件的物体拾取。拾取之后，碰撞和刚体组件会暂时禁用，物体缩小并跟随拾取者，直到放下。物体被放下时，会根据位置偏移`Vector3`和默认旋转`Rotation`来进行状态的覆盖，而大小恢复。

拾取者不会继承所拾取物体的质量。

蓝色物体被拾取或放下后会触发特定事件，可以作为BUFF。

拾取者能且仅能拾取一个物体。

与蓝色物体视觉上相牢固连接的物体可以被玩家整个拾取。
#### 破坏
红色物体具有特定的阈值`float`，会校验主角的动量。受玩家碰撞时，动量不小于阈值，就会破碎，产生粒子效果。
#### 发射台
紫色物体具有特定的推力`float`，相当于给予玩家动量。受玩家碰撞时，如果被碰撞了顶面，则施加推力大小的力。
### 关卡
借助世界物体搭建多层的关卡。
#### 地面
关卡的每一层至少有一个地面。主角踩在地面时会储存坐标，高度低于该坐标太多时会被传送回来，避免失误操作掉出关卡。地面作为传送点。
#### 保存点
关卡中会埋藏隐形的保存点，玩家第一次经过时会激活，之后可以回溯到激活的保存点。保存点只是包含关卡ID和玩家坐标，每个保存点都会保证玩家不需要这以前的流程的道具，防止死档。
#### 教程提示
关卡中埋藏隐形的触发器，经过时显示文字，作为教学。
#### 剧情对话
关卡中埋藏隐形的触发器，经过时触发显示一段时间的文字，起到引导作用，同时负责传达剧情。
#### Boss触发器
关卡中埋藏隐形的触发器，经过时召唤Boss，开启Boss战。
### 战斗
仅包含简单的Boss战，一个敌人。
Boss使用和主角几乎一样的控制器，只是输入交给Boss AI。只用简单的策略就可以追着（像我自己这样的）玩家打，性能足够强。所以它拥有较低的数值。与主角一样，Boss在速度较快时也能无敌，并且Boss也会拾取。不过，因为时间有限，并没有充分利用这些设计漂亮的Boss战，只是做了简单展示。
Boss会出现两次，第一次只有一阶段，第二次拥有四个阶段，行为各不相同。玩家需要利用无敌时间躲避Boss的攻击并且反击，利用道具制造优势，以及应对Boss的特定交互，包含一个追踪炸弹，可以被玩家撞击打回，一个可拾取旋转光剑，在Boss打到玩家的无敌时间会被震落下来从而可以被玩家拾取反击Boss。

## 设计思路
游戏的设计目标包括交互的多样性，玩家需要改变自己和世界，互相配合才能解开谜题。

毫不避讳，拾取的能力实际上很大程度上参考了塞尔达的磁铁（包含有趣的矿车Bug）和究极手，在拾取的表现上则有些类似原神的月矩力。拾取能力实际上提供了我所能想到的最大的自由，物体放置的位置并不限于固定的锚点，配合物理引擎可以做到很有趣的交互。

除了拾取之外，玩家与世界交互的方式就是通过物理引擎，也就是碰撞和移动。与不对物理属性做要求的拾取不同，这类交互有些需要校验主角的动量，体现为简单的红色物体受冲击破坏、需要较高的初速度才能登上的高台等，而紫色物体能反过来提供动量。紫色物体实际上作为动量的奖励不太能总是直接提供在正确的位置，如何移动或者触发转变带来思维上的乐趣。与此同时，平台跳跃的操作带来一些操作的趣味性，玩家还是需要学会精细控制主角小行星的。

游戏整体的设计不带给玩家压力，鼓励多试错、多思考。玩家的试错成本很低，难度主要体现在解谜的思路上。当然，引导上的不足其实也增添了不必要的难度，但目前的设计不能兼容太贴心的引导，否则解谜太简单，游戏会完全失去挑战性。我个人认为是需要一些额外的（或者说是非游戏性的）正反馈来维持心流通道的，在这个Demo里我尝试使用剧情，推进解谜可以看到更多对话，但故事是否有趣就另说了。

在设计关卡时，会频繁把过去的关卡机制重复搬出来，但又不至于重复，通过让机制交替出现。从Demo里的第二关，玩家可以玩到的关卡大概按顺序是

- 1-1：abc
- 1-2：db
- 1-3：e
- 2-1：fgb
- 2-2：hfbcgh
- 2-3：ibjfg(d+f+g)fb
- 3：be

字母记号的对应关系和出现次数如下

- a：移走障碍，1次
- b：跳跳乐，7次
- c：增加动量破坏盒盖，2次
- d：叠高高，2次
- e：战斗，2次
- f：合理地转变颜色，5次
- g：运送浮空物体，4次
- h：用浮空物体来接住掉落的受重力物体，2次
- i：五子棋，1次
- j：拼图，1次

有重复体验价值的出现次数就会更多，而有些谜题只能带来一次性的乐趣。（需要补充，叠叠乐只是因为比较复杂所以出现得少，而非只能一次性体验）

> 在此纪念我的第一个游戏。
> 若希望获得可执行文件，可邮箱联系我。（假如存在这种可能性）

![](/assets/post-images/stellarium-0.png)
![](/assets/post-images/stellarium-1.png)
![](/assets/post-images/stellarium-2.png)
![](/assets/post-images/stellarium-3.png)

